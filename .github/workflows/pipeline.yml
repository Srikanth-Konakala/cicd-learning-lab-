name: My Automation Pipeline

on: [push]

jobs:
  build-and-prep:
    runs-on: ubuntu-latest

    steps:
      # Step 1: Get the code from GitHub
      - name: Get the code
        uses: actions/checkout@v3

      # Step 2: Run the cleaning script FIRST
      - name: Prepare the Environment
        run: python scripts/prep.py

      # Step 3: Run the main app script SECOND
      - name: Run the Application
        run: python app.py
